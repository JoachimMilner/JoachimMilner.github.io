<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=0.6, user-scalable=no">
    <title>Flappy Heptagon</title>
    <style>
    * {
        padding: 0;
        margin: 0;
    }
    
    canvas {
        background: #eee;
        display: block;
        margin: 0 auto;
    }
    
    p {
        font-family: "Courier New";
        text-align: center;
        margin-left: 350px;
    }
    </style>
</head>

<body>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <p>Author Joachim Milner 2016</p>
    <script>
var _0x29ed=["\x66\x69\x6C\x6C\x53\x74\x79\x6C\x65","\x23\x39\x39\x43\x43\x46\x46","\x66\x69\x6C\x6C\x52\x65\x63\x74","\x23\x30\x30\x30\x30\x30\x30","\x73\x74\x72\x6F\x6B\x65\x52\x65\x63\x74","\x66\x6F\x6E\x74","\x62\x6F\x6C\x64\x20\x33\x30\x70\x78\x20\x63\x6F\x75\x72\x69\x65\x72\x20\x6E\x65\x77","\x74\x65\x78\x74\x41\x6C\x69\x67\x6E","\x63\x65\x6E\x74\x65\x72","\x57\x65\x6C\x63\x6F\x6D\x65\x20\x74\x6F","\x77\x69\x64\x74\x68","\x66\x69\x6C\x6C\x54\x65\x78\x74","\x46\x6C\x61\x70\x70\x79\x20\x48\x65\x70\x74\x61\x67\x6F\x6E","\x62\x6F\x6C\x64\x20\x31\x36\x70\x78\x20\x63\x6F\x75\x72\x69\x65\x72\x20\x6E\x65\x77","\x50\x72\x65\x73\x73\x20\x61\x6E\x79\x20\x6B\x65\x79\x20\x74\x6F\x20\x73\x74\x61\x72\x74\x20\x66\x6C\x61\x70\x70\x69\x6E\x67","\x44\x4F\x4D\x43\x6F\x6E\x74\x65\x6E\x74\x4C\x6F\x61\x64\x65\x64","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x70\x72\x65\x76\x65\x6E\x74\x44\x65\x66\x61\x75\x6C\x74","\x62\x6F\x6C\x64\x20\x32\x34\x70\x78\x20\x63\x6F\x75\x72\x69\x65\x72\x20\x6E\x65\x77","\x6C\x65\x66\x74","\x48\x69\x67\x68\x73\x63\x6F\x72\x65\x3A","\x72\x69\x67\x68\x74","\x73\x61\x76\x65","\x74\x72\x61\x6E\x73\x6C\x61\x74\x65","\x50\x49","\x72\x6F\x74\x61\x74\x65","\x4D\x20\x31\x35\x30\x2C\x20","\x20\x4C\x20\x31\x33\x34\x2C\x20","\x20\x4C\x20\x31\x33\x31\x2C\x20","\x20\x4C\x20\x31\x34\x31\x2C\x20","\x20\x4C\x20\x31\x35\x39\x2C\x20","\x20\x4C\x20\x31\x36\x39\x2C\x20","\x20\x4C\x20\x31\x36\x36\x2C\x20","\x20\x4C\x20\x31\x35\x30\x2C\x20","\x23\x46\x46\x30\x30\x30\x30","\x66\x69\x6C\x6C","\x72\x65\x73\x74\x6F\x72\x65","\x78","\x73\x68\x69\x66\x74","\x6C\x65\x6E\x67\x74\x68","\x23\x30\x30\x30\x30\x46\x46","\x67\x61\x70\x54\x6F\x70","\x67\x61\x70\x42\x6F\x74\x74\x6F\x6D","\x68\x65\x69\x67\x68\x74","\x68\x61\x73\x50\x61\x73\x73\x65\x64","\x72\x61\x6E\x64\x6F\x6D","\x66\x6C\x6F\x6F\x72","\x70\x75\x73\x68","\x47\x41\x4D\x45\x20\x4F\x56\x45\x52","\x59\x6F\x75\x20\x67\x6F\x74\x3A","\x4E\x65\x77\x20\x48\x69\x67\x68\x20\x53\x63\x6F\x72\x65\x21","\x50\x72\x65\x73\x73\x20\x61\x6E\x79\x20\x6B\x65\x79\x20\x74\x6F\x20\x66\x6C\x61\x70\x20\x61\x67\x61\x69\x6E","\x63\x6C\x65\x61\x72\x52\x65\x63\x74","\x6B\x65\x79\x64\x6F\x77\x6E","\x74\x6F\x75\x63\x68\x73\x74\x61\x72\x74","\x67\x61\x6D\x65\x43\x61\x6E\x76\x61\x73","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x32\x64","\x67\x65\x74\x43\x6F\x6E\x74\x65\x78\x74"];function initTitlePane(){context[_0x29ed[0]]= _0x29ed[1],context[_0x29ed[2]](150,140,300,120),context[_0x29ed[0]]= _0x29ed[3],context[_0x29ed[4]](149,139,302,122),context[_0x29ed[5]]= _0x29ed[6],context[_0x29ed[7]]= _0x29ed[8],context[_0x29ed[11]](_0x29ed[9],canvas[_0x29ed[10]]/ 2,170),context[_0x29ed[11]](_0x29ed[12],canvas[_0x29ed[10]]/ 2,200),context[_0x29ed[5]]= _0x29ed[13],context[_0x29ed[11]](_0x29ed[14],canvas[_0x29ed[10]]/ 2,240),document[_0x29ed[16]](_0x29ed[15],setStartGameListener)}function startGame(_0x57b5x3){_0x57b5x3[_0x29ed[17]](),generateObstacle(),setFlapListener(),refreshIntervalId= setInterval(refresh,10)}function drawScores(){context[_0x29ed[0]]= _0x29ed[3],context[_0x29ed[5]]= _0x29ed[18],context[_0x29ed[7]]= _0x29ed[19],context[_0x29ed[11]](_0x29ed[20]+ highscore,10,20),context[_0x29ed[7]]= _0x29ed[21],context[_0x29ed[11]](currentScore,590,20)}function drawHeptagon(){context[_0x29ed[22]](),0> velocity&& (context[_0x29ed[23]](HEPTAGON_X,heptagonY),-40> heptagonRotation?heptagonRotationDirection= 1:heptagonRotation> 40&& (heptagonRotationDirection=  -1),heptagonRotation+= HEPT_ROTATION_CHANGE* heptagonRotationDirection,context[_0x29ed[25]](heptagonRotation* Math[_0x29ed[24]]/ 180),context[_0x29ed[23]](-150,-heptagonY));var _0x57b5x3=_0x29ed[26]+ (heptagonY- 20)+ _0x29ed[27]+ (heptagonY- 12)+ _0x29ed[28]+ (heptagonY+ 4)+ _0x29ed[29]+ (heptagonY+ 18)+ _0x29ed[30]+ (heptagonY+ 18)+ _0x29ed[31]+ (heptagonY+ 4)+ _0x29ed[32]+ (heptagonY- 12)+ _0x29ed[33]+ (heptagonY- 20),_0x57b5x6= new Path2D(_0x57b5x3);context[_0x29ed[0]]= _0x29ed[34],context[_0x29ed[35]](_0x57b5x6),context[_0x29ed[36]]()}function drawAndCheckObstacles(){obstacles[0][_0x29ed[37]]+ OBSTACLE_WIDTH< 0&& obstacles[_0x29ed[38]](),300== obstacles[obstacles[_0x29ed[39]]- 1][_0x29ed[37]]&& generateObstacle(),context[_0x29ed[0]]= _0x29ed[40];for(var _0x57b5x3=0;_0x57b5x3< obstacles[_0x29ed[39]];_0x57b5x3++){var _0x57b5x6=obstacles[_0x57b5x3];context[_0x29ed[2]](_0x57b5x6[_0x29ed[37]],0,OBSTACLE_WIDTH,_0x57b5x6[_0x29ed[41]]),context[_0x29ed[2]](_0x57b5x6[_0x29ed[37]],_0x57b5x6[_0x29ed[42]],OBSTACLE_WIDTH,canvas[_0x29ed[43]]- _0x57b5x6[_0x29ed[42]]),checkCollisions(obstacles[_0x57b5x3]),_0x57b5x6[_0x29ed[37]]-= OBSTACLE_DECREMENT,_0x57b5x6[_0x29ed[37]]+ OBSTACLE_WIDTH< 130&& !_0x57b5x6[_0x29ed[44]]&& (currentScore++,_0x57b5x6[_0x29ed[44]]=  !0)}}function generateObstacle(){var _0x57b5x3=Math[_0x29ed[46]](Math[_0x29ed[45]]()* (canvas[_0x29ed[43]]- 150));10> _0x57b5x3&& (_0x57b5x3= 10);var _0x57b5x6={x:canvas[_0x29ed[10]],gapTop:_0x57b5x3,gapBottom:_0x57b5x3+ OBSTACLE_GAP_HEIGHT,hasPassed:!1};obstacles[_0x29ed[47]](_0x57b5x6)}function checkCollisions(_0x57b5x3){HEPTAGON_X> _0x57b5x3[_0x29ed[37]]&& HEPTAGON_X< _0x57b5x3[_0x29ed[37]]+ OBSTACLE_WIDTH&& (heptagonY- HEPTAGON_RADIUS< _0x57b5x3[_0x29ed[41]]|| heptagonY+ HEPTAGON_RADIUS> _0x57b5x3[_0x29ed[42]])&& initGameOver()}function flapEvent(_0x57b5x3){_0x57b5x3[_0x29ed[17]](),velocity= FLAP_VELOCITY,heptagonRotation= 0,heptagonRotationDirection= Math[_0x29ed[45]]()> 0.5?1:-1}function setGravity(){heptagonY+= velocity,velocity+= GRAVITY}function initGameOver(){clearInterval(refreshIntervalId),clearCanvas(),context[_0x29ed[0]]= _0x29ed[34],context[_0x29ed[2]](150,140,300,120),context[_0x29ed[0]]= _0x29ed[3],context[_0x29ed[4]](149,139,302,122),context[_0x29ed[7]]= _0x29ed[8],context[_0x29ed[5]]= _0x29ed[6],context[_0x29ed[11]](_0x29ed[48],canvas[_0x29ed[10]]/ 2,170),context[_0x29ed[5]]= _0x29ed[18],context[_0x29ed[11]](_0x29ed[49]+ currentScore,canvas[_0x29ed[10]]/ 2,193);var _0x57b5x3;currentScore> highscore?(_0x57b5x3= _0x29ed[50],highscore= currentScore):_0x57b5x3= _0x29ed[20]+ highscore,context[_0x29ed[11]](_0x57b5x3,canvas[_0x29ed[10]]/ 2,218),context[_0x29ed[5]]= _0x29ed[13],context[_0x29ed[11]](_0x29ed[51],canvas[_0x29ed[10]]/ 2,240),currentScore= 0,heptagonY= 200,velocity= 0,heptagonRotation= 0,obstacles= [],setTimeout(function(){setStartGameListener()},500)}function refresh(){clearCanvas(),drawHeptagon(),drawAndCheckObstacles(),drawScores(),setGravity()}function clearCanvas(){context[_0x29ed[52]](0,0,canvas[_0x29ed[10]],canvas[_0x29ed[43]])}function setStartGameListener(){removeEventListener(_0x29ed[53],flapEvent),removeEventListener(_0x29ed[54],flapEvent),addEventListener(_0x29ed[53],startGame),addEventListener(_0x29ed[54],startGame)}function setFlapListener(){removeEventListener(_0x29ed[53],startGame),removeEventListener(_0x29ed[54],startGame),addEventListener(_0x29ed[53],flapEvent),addEventListener(_0x29ed[54],flapEvent)}const GRAVITY=0.2,FLAP_VELOCITY=-7,HEPT_ROTATION_CHANGE=8,OBSTACLE_DECREMENT=2.5,OBSTACLE_WIDTH=30,OBSTACLE_GAP_HEIGHT=140,HEPTAGON_X=150,HEPTAGON_RADIUS=20;var canvas=document[_0x29ed[56]](_0x29ed[55]),context=canvas[_0x29ed[58]](_0x29ed[57]),currentScore=0,highscore=0,velocity=0,heptagonY=200,heptagonRotation=0,heptagonRotationDirection=1,refreshIntervalId,obstacles=[];initTitlePane()
    </script>
</body>

</html>
